# 目标平台选择
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_bananapi_bpi-r4=y
CONFIG_TARGET_BOARD="mediatek"
CONFIG_TARGET_SUBTARGET="filogic"
CONFIG_TARGET_PROFILE="DEVICE_bananapi_bpi-r4"
CONFIG_TARGET_ROOTFS_PARTSIZE=796

# 自定义内核功能
CONFIG_TESTING_KERNEL=y

# 内置软件包
##############################################
#                   稳定版                   #
##############################################
# === 系统核心组件 ===
CONFIG_PACKAGE_autocore=y # 自动显示CPU负载/温度等硬件状态信息（系统监控核心）
# CONFIG_PACKAGE_base-files=y     # 基础文件系统结构和设备配置文件（/etc目录必需文件）
# CONFIG_PACKAGE_libc=y           # C标准库（所有程序运行的基础依赖）
# CONFIG_PACKAGE_libgcc=y         # GCC运行时库（低级CPU操作和异常处理支持）
# CONFIG_PACKAGE_logd=y           # 系统日志守护进程（日志持久化存储）
# CONFIG_PACKAGE_procd-ujail=y    # 进程管理守护程序（支持容器化隔离，提高安全性）
# CONFIG_PACKAGE_uboot-envtools=y # U-Boot环境变量管理工具（修改启动参数）
# CONFIG_PACKAGE_urandom-seed=y   # 系统启动时生成高质量随机数种子
# CONFIG_PACKAGE_urngd=y          # 用户态随机数生成守护程序（补充系统熵源）
# === 网络基础服务 ===
# CONFIG_PACKAGE_bridger=y         # 用户态网络桥接工具（替代传统内核桥接）
# CONFIG_PACKAGE_dnsmasq-full=y    # 完整版DNS/DHCP服务器（支持DoT/DoH等高级功能）
# CONFIG_PACKAGE_dropbear=y        # 轻量级SSH服务器（远程管理）
# CONFIG_PACKAGE_firewall4=y       # 基于nftables的下一代防火墙
# CONFIG_DEFAULT_nftables=y        # nftables命令行工具（防火墙规则管理）
# CONFIG_PACKAGE_odhcp6c=y         # IPv6 DHCP客户端（获取运营商IPv6地址）
# CONFIG_PACKAGE_odhcpd-ipv6only=y # 精简版IPv6 DHCP服务器（为局域网分配IPv6地址）
# CONFIG_PACKAGE_ppp=y             # PPP拨号协议核心
# CONFIG_PACKAGE_ppp-mod-pppoe=y   # PPPoE拨号插件（用于ADSL/光纤认证）
# CONFIG_PACKAGE_wpad-openssl=y    # WPA3无线认证守护程序（使用OpenSSL后端）
# === 存储管理系统 ===
# CONFIG_PACKAGE_block-mount=y # 存储设备分区挂载管理（支持USB/SD卡等外部存储）
# CONFIG_PACKAGE_e2fsprogs=y   # EXT2/3/4文件系统工具（mkfs/ext2resize等）
# CONFIG_PACKAGE_f2fsck=y      # F2FS文件系统检查修复工具
# CONFIG_PACKAGE_fitblk=y      # FIT映像解析器（U-Boot固件加载支持）
# CONFIG_PACKAGE_fstools=y     # 存储设备管理工具集（格式化/分区等操作）
# CONFIG_PACKAGE_mkf2fs=y      # F2FS文件系统创建工具（为eMMC/SD卡优化）
# === 硬件支持模块 ===
CONFIG_PACKAGE_kmod-nf-nathelper=y       # IPv4 NAT辅助模块（支持VPN/流量重定向）
CONFIG_PACKAGE_kmod-nf-nathelper-extra=y # 扩展NAT支持（FTP/SIP等复杂协议穿透）
# CONFIG_PACKAGE_kmod-crypto-hw-safexcel=y  # 硬件加密引擎驱动（提升VPN/IPsec性能）
# CONFIG_PACKAGE_kmod-eeprom-at24=y         # AT24系列EEPROM存储支持（保存设备配置）
# CONFIG_PACKAGE_kmod-gpio-button-hotplug=y # GPIO按键事件处理（复位键/WPS键支持）
# CONFIG_PACKAGE_kmod-hwmon-pwmfan=y        # PWM风扇控制驱动（温控散热）
# CONFIG_PACKAGE_kmod-i2c-mux-pca954x=y     # I2C多路复用器驱动（扩展硬件管理总线）
# CONFIG_PACKAGE_kmod-leds-gpio=y           # GPIO控制的LED指示灯驱动
# CONFIG_PACKAGE_kmod-nft-offload=y         # 防火墙规则硬件卸载（MT7988 NPU加速）
# CONFIG_PACKAGE_kmod-phy-aquantia=y        # Aquantia万兆网卡PHY驱动（10Gbps支持）
# CONFIG_PACKAGE_kmod-rtc-pcf8563=y         # PCF8563实时时钟驱动（硬件时间同步）
# CONFIG_PACKAGE_kmod-sfp=y                 # SFP光模块热插拔支持
# CONFIG_PACKAGE_kmod-usb3=y                # USB 3.0主机控制器驱动
# === 无线网络支持 ===
# CONFIG_PACKAGE_kmod-mt7996-233-firmware=y # MT7996 6GHz频段固件（WiFi 7三频支持）
# CONFIG_PACKAGE_kmod-mt7996-firmware=y     # MT7996 WiFi 7基础固件（2.4G/5G频段）
# CONFIG_PACKAGE_mt7988-wo-firmware=y       # MT7988无线优化固件（信号增强）
# === 安全与加密  ===
# CONFIG_PACKAGE_ca-bundle=y          # CA根证书集合（HTTPS/SSL通信必备）
# CONFIG_PACKAGE_libustream-openssl=y # 基于OpenSSL的HTTP客户端（安全更新源访问）
# === 系统管理与配置工具 ===
# CONFIG_PACKAGE_uci=y           # 统一配置接口（命令行系统配置）
# CONFIG_PACKAGE_uclient-fetch=y # 轻量级网络下载工具（脚本自动化依赖）
# CONFIG_PACKAGE_opkg=y          # OpenWrt包管理系统（软件安装/更新）
# CONFIG_PACKAGE_mtd=y           # Flash存储操作工具（固件刷写/备份）
# CONFIG_PACKAGE_netifd=y        # 网络接口管理守护进程（核心网络服务）
# === LuCI Web界面 ===
CONFIG_PACKAGE_luci-app-package-manager=y # 图形化软件包管理界面
CONFIG_PACKAGE_luci-compat=y              # LuCI兼容层（支持旧版插件）
CONFIG_PACKAGE_luci-lib-base=y            # LuCI基础库（Web界面核心）
CONFIG_PACKAGE_luci-light=y               # 轻量级LuCI核心（基础Web界面）
# CONFIG_PACKAGE_luci-lib-ipkg=y # LuCI包管理接口（opkg集成）
# === 本地化优化  ===
CONFIG_PACKAGE_default-settings-chn=y # 中国用户优化预设（汉化+国内源）
##############################################
#                   快照版                   #
##############################################
# === 核心系统组件 ===
CONFIG_PACKAGE_apk-openssl=y  # OpenSSL加密的APK包管理（轻量替代opkg）
CONFIG_PACKAGE_base-files=y   # 基础文件系统结构和配置
CONFIG_PACKAGE_procd-ujail=y  # 带容器隔离的进程管理
CONFIG_PACKAGE_urandom-seed=y # 系统启动随机数生成
CONFIG_PACKAGE_urngd=y        # 用户态随机数守护（加密增强）
CONFIG_PACKAGE_libc=y         # C标准库（必须）
CONFIG_PACKAGE_libgcc=y       # GCC运行时库（必须）
# === 网络基础服务 ===
CONFIG_PACKAGE_bridger=y         # 用户态网络桥接
CONFIG_PACKAGE_dnsmasq-full=y    # 全功能DNS/DHCP服务
CONFIG_PACKAGE_firewall4=y       # nftables防火墙
CONFIG_DEFAULT_nftables=y        # nftables命令行工具
CONFIG_PACKAGE_odhcp6c=y         # IPv6 DHCP客户端
CONFIG_PACKAGE_odhcpd-ipv6only=y # IPv6 DHCP服务器
CONFIG_PACKAGE_ppp=y             # PPP拨号核心
CONFIG_PACKAGE_ppp-mod-pppoe=y   # PPPoE认证插件
CONFIG_PACKAGE_wpad-openssl=y    # WPA3无线认证
# === 文件系统与存储 ===
CONFIG_PACKAGE_automount=y # 自动挂载热插拔设备
CONFIG_PACKAGE_e2fsprogs=y # EXT4文件系统工具
CONFIG_PACKAGE_f2fsck=y    # F2FS文件系统检查
CONFIG_PACKAGE_fitblk=y    # FIT映像解析器
CONFIG_PACKAGE_fstools=y   # 存储设备管理工具
CONFIG_PACKAGE_mkf2fs=y    # F2FS文件系统创建
# === 硬件支持模块 ===
CONFIG_PACKAGE_kmod-crypto-hw-safexcel=y  # 硬件加密加速
CONFIG_PACKAGE_kmod-eeprom-at24=y         # EEPROM存储支持
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y # 物理按键支持
CONFIG_PACKAGE_kmod-hwmon-pwmfan=y        # PWM风扇控制
CONFIG_PACKAGE_kmod-i2c-mux-pca954x=y     # I2C总线复用
CONFIG_PACKAGE_kmod-leds-gpio=y           # LED指示灯控制
CONFIG_PACKAGE_kmod-mt7996-233-firmware=y # MT7996 6GHz固件
CONFIG_PACKAGE_kmod-mt7996-firmware=y     # MT7996基础固件
CONFIG_PACKAGE_kmod-nft-offload=y         # 防火墙硬件卸载
CONFIG_PACKAGE_kmod-phy-aquantia=y        # 10G网卡PHY驱动
CONFIG_PACKAGE_kmod-rtc-pcf8563=y         # 硬件时钟驱动
CONFIG_PACKAGE_kmod-sfp=y                 # SFP光模块支持
CONFIG_PACKAGE_kmod-usb3=y                # USB 3.0控制器驱动
# === 系统工具 ===
CONFIG_PACKAGE_ca-bundle=y          # CA根证书集
CONFIG_PACKAGE_dropbear=y           # SSH服务器
CONFIG_PACKAGE_libustream-openssl=y # 加密HTTP客户端
CONFIG_PACKAGE_logd=y               # 系统日志服务
CONFIG_PACKAGE_mt7988-wo-firmware=y # MT7988无线优化固件
CONFIG_PACKAGE_mtd=y                # Flash操作工具
CONFIG_PACKAGE_netifd=y             # 网络接口管理
CONFIG_PACKAGE_uboot-envtools=y     # U-Boot环境管理
CONFIG_PACKAGE_uci=y                # 统一配置接口
CONFIG_PACKAGE_uclient-fetch=y      # 轻量下载工具
##############################################
#                   自定义                   #
##############################################
CONFIG_PACKAGE_luci-app-argon-config=y # Argon 主题配置
CONFIG_PACKAGE_luci-app-diskman=y      # 磁盘管理
CONFIG_PACKAGE_luci-app-easyupdate=y   # 简易系统更新
CONFIG_PACKAGE_luci-app-nginx=y        # Nginx 前端管理
CONFIG_PACKAGE_luci-theme-argon=y      # Argon 主题
CONFIG_PACKAGE_luci-nginx=y            # Nginx 前端引擎
# CONFIG_PACKAGE_luci-app-acme=y        # ACME 证书管理
# CONFIG_PACKAGE_luci-app-openlist=y    # OpenList 文档
# CONFIG_PACKAGE_luci-app-dae=y         # 大鹅
# CONFIG_PACKAGE_luci-app-ddns-go=y     # DDNS-Go 动态域名服务
# CONFIG_PACKAGE_luci-app-fancontrol=y  # 风扇控制
# CONFIG_PACKAGE_luci-app-lucky=y       # 内网穿透工具包
# CONFIG_PACKAGE_luci-app-openclash=y   # OpenClash 代理
# CONFIG_PACKAGE_luci-app-qbittorrent=y # 丘比特下载器
# CONFIG_PACKAGE_luci-app-samba4=y      # Samba 4 共享文件系统
# CONFIG_PACKAGE_luci-app-ttyd=y        # TTYd 终端
# CONFIG_PACKAGE_luci-app-zerotier=y    # ZeroTier 虚拟网络

# 可安装模组
# === appfilter ===
CONFIG_PACKAGE_kmod-oaf=m
# === bpi-r4-pwm-fan ===
CONFIG_PACKAGE_bpi-r4-pwm-fan=m
# === dae ===
CONFIG_PACKAGE_kmod-sched-bpf=m
CONFIG_PACKAGE_kmod-sched-core=m
CONFIG_PACKAGE_kmod-veth=m
CONFIG_PACKAGE_kmod-xdp-sockets-diag=m
# === docker ===
CONFIG_PACKAGE_docker=m
CONFIG_PACKAGE_kmod-fs-btrfs=m
CONFIG_PACKAGE_kmod-crypto-blake2b=m
CONFIG_PACKAGE_kmod-crypto-hash=m
CONFIG_PACKAGE_kmod-crypto-xxhash=m
CONFIG_PACKAGE_kmod-lib-xxhash=m
CONFIG_PACKAGE_kmod-lib-crc32c=m
CONFIG_PACKAGE_kmod-crypto-crc32c=m
CONFIG_PACKAGE_kmod-lib-lzo=m
CONFIG_PACKAGE_kmod-crypto-acompress=m
CONFIG_PACKAGE_kmod-lib-raid6=m
CONFIG_PACKAGE_kmod-lib-xor=m
CONFIG_PACKAGE_kmod-lib-zlib-deflate=m
CONFIG_PACKAGE_kmod-lib-zlib-inflate=m
CONFIG_PACKAGE_kmod-lib-zstd=m
CONFIG_PACKAGE_kmod-ip6tables=m
CONFIG_PACKAGE_kmod-nft-compat=m
CONFIG_PACKAGE_kmod-ipt-core=m
CONFIG_PACKAGE_kmod-ipt-extra=m
CONFIG_PACKAGE_kmod-ipt-nat=m
CONFIG_PACKAGE_kmod-ipt-nat6=m
CONFIG_PACKAGE_kmod-ipt-physdev=m
CONFIG_PACKAGE_kmod-nf-ipvs=m
CONFIG_PACKAGE_kmod-veth=m
CONFIG_PACKAGE_kmod-nft-core=m
CONFIG_PACKAGE_kmod-nf-conntrack6=m
CONFIG_PACKAGE_kmod-nf-conntrack=m
CONFIG_PACKAGE_kmod-nf-log=m
CONFIG_PACKAGE_kmod-nf-log6=m
CONFIG_PACKAGE_kmod-nf-nat=m
CONFIG_PACKAGE_kmod-nf-reject=m
CONFIG_PACKAGE_kmod-nf-reject6=m
CONFIG_PACKAGE_kmod-nfnetlink=m
CONFIG_PACKAGE_kmod-nft-fib=m
CONFIG_PACKAGE_kmod-nft-fullcone=m
CONFIG_PACKAGE_kmod-nft-nat=m
CONFIG_PACKAGE_kmod-nft-offload=m
CONFIG_PACKAGE_kmod-nf-flow=m
CONFIG_PACKAGE_kmod-ipt-fullconenat=m
CONFIG_PACKAGE_kmod-ipt-conntrack=m
# === fancontrol ===
CONFIG_PACKAGE_luci-app-fancontrol=m
# === lucky ===
CONFIG_PACKAGE_luci-app-lucky=m
# === openclash ===
CONFIG_PACKAGE_kmod-nf-conntrack-netlink=m
CONFIG_PACKAGE_kmod-nf-conntrack=m
CONFIG_PACKAGE_kmod-nfnetlink=m
CONFIG_PACKAGE_kmod-nft-core=m
CONFIG_PACKAGE_kmod-lib-crc32c=m
CONFIG_PACKAGE_kmod-crypto-crc32c=m
CONFIG_PACKAGE_kmod-crypto-hash=m
CONFIG_PACKAGE_kmod-nf-conntrack6=m
CONFIG_PACKAGE_kmod-nf-log=m
CONFIG_PACKAGE_kmod-nf-log6=m
CONFIG_PACKAGE_kmod-nf-nat=m
CONFIG_PACKAGE_kmod-nf-reject=m
CONFIG_PACKAGE_kmod-nf-reject6=m
CONFIG_PACKAGE_kmod-inet-diag=m
CONFIG_PACKAGE_kmod-nft-tproxy=m
CONFIG_PACKAGE_kmod-nf-tproxy=m
CONFIG_PACKAGE_kmod-tun=m
# === openlist ===
CONFIG_PACKAGE_kmod-fuse=m
# === qbittorrent ===
CONFIG_PACKAGE_luci-app-qbittorrent-original=m
# === samba4 ===
CONFIG_PACKAGE_samba4-admin=m
CONFIG_PACKAGE_samba4-client=m
CONFIG_PACKAGE_samba4-libs=m
CONFIG_PACKAGE_samba4-server=m
CONFIG_PACKAGE_samba4-utils=m

# dae 内核配置
CONFIG_DEVEL=y
CONFIG_KERNEL_DEBUG_INFO=y
CONFIG_KERNEL_DEBUG_INFO_REDUCED=n
CONFIG_KERNEL_DEBUG_INFO_BTF=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_BPF=y
CONFIG_KERNEL_BPF_EVENTS=y
CONFIG_BPF_TOOLCHAIN_HOST=y
CONFIG_KERNEL_XDP_SOCKETS=y
CONFIG_PACKAGE_kmod-xdp-sockets-diag=y
